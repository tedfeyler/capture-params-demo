# Instana Java SDK Capture parameters demo

## Setup

Create a `.env` file in the root directory of this repository containing the following properties, adjusted for your Instana tenant:

```properties
agent_key=
agent_endpoint=
agent_endpoint_port=
```

Have on your machine a setup that can run `docker-compose`.
Docker for Mac may not work due to some missing capabilities (although I have not tried recently), `docker-machine` works remarkably well though.

## Build

```bash
./mvnw clean package docker:build
```

## Run

The demo is started with:

```bash
docker-compose up
```

When the agent is all set up, traces are easilly generated by running:

```bash
curl http://$(docker-machine ip):8080/api/ciao
```

(Notice that `docker-machine` is assumed to be the Docker runtime of choice. Fundamentally you just need to put there the IP at which the Spring Boot app is listening.)

To find traces, look in the Analyze view of your Instana tenant and search for `call.tag my_key is present`.

Enjoy!
